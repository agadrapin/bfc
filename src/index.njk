---
layout: layouts/landing.njk
title: null
---

{# Get current director data #}
{% set currentDir = directors[site.currentDirector] %}

<!-- ═══ HERO ═════════════════════════════════════════════ -->
<section class="hero">
  <div class="hero-glow"></div>

  <!-- Rain effect -->
  <div class="rain" id="rain"></div>

  <div class="hero-left">
    <div class="hero-eyebrow">
      <div class="eyebrow-line"></div>
      <span class="eyebrow-text">Director Spotlight</span>
      <div class="eyebrow-sep"></div>
      <span class="eyebrow-season">Season {{ site.currentSeason | pad(2, '0') }}</span>
    </div>

    <a href="/directors/{{ currentDir.slug }}/" style="text-decoration:none;color:inherit;">
      <h1 class="hero-title">
        <span class="name-line">{{ currentDir.firstName | upper }}</span>
        <span class="name-line accent" data-text="{{ currentDir.lastName | upper }}">{{ currentDir.lastName | upper }}</span>
      </h1>
    </a>

    <p class="hero-tagline">
      {{ currentDir.bio | truncate(200, true, '...') }}
    </p>

    <div class="hero-meta-row">
      <div class="meta-cell">
        <label>Active</label>
        <span>{{ currentDir.active }}</span>
      </div>
      <div class="meta-cell">
        <label>Selected</label>
        <span>{{ currentDir.picks | length }} films</span>
      </div>
      <div class="meta-cell">
        <label>Origin</label>
        <span>{{ currentDir.nationality }}</span>
      </div>
    </div>

    <div class="hero-actions">
      <a href="#picks" class="btn btn-gold">Read Reviews</a>
      <a href="#archive" class="btn btn-outline">Full Archive</a>
    </div>
  </div>

  <div class="hero-right">
    <div class="film-selector">
      <div class="fs-number" id="fsNumber">01</div>

      <div class="fs-body" id="fsBody">
        <div class="fs-title" id="fsTitle"></div>
        <div class="fs-meta" id="fsMeta"></div>
        <div class="fs-rating" id="fsRating"></div>
        <a class="fs-link" id="fsLink" href="#">Read Review →</a>
      </div>

      <div class="fs-nav">
        <button class="fs-arrow fs-prev" id="fsPrev" aria-label="Previous film">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"/></svg>
        </button>
        <span class="fs-count" id="fsCount"></span>
        <button class="fs-arrow fs-next" id="fsNext" aria-label="Next film">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
      </div>
    </div>
  </div>
</section>

<!-- ═══ TICKER ════════════════════════════════════════════ -->
<div class="ticker">
  <div class="ticker-track">
    <span class="ticker-item"><span class="dot">◆</span> Kubrick</span>
    <span class="ticker-item"><span class="dot">◆</span> Kurosawa</span>
    <span class="ticker-item"><span class="dot">◆</span> Lynch</span>
    <span class="ticker-item"><span class="dot">◆</span> Tarkovsky</span>
    <span class="ticker-item"><span class="dot">◆</span> Bergman</span>
    <span class="ticker-item"><span class="dot">◆</span> Cassavetes</span>
    <span class="ticker-item"><span class="dot">◆</span> Wong Kar-wai</span>
    <span class="ticker-item"><span class="dot">◆</span> Haneke</span>
    <span class="ticker-item"><span class="dot">◆</span> Scorsese</span>
    <span class="ticker-item"><span class="dot">◆</span> Coppola</span>
    <span class="ticker-item"><span class="dot">◆</span> Almodovar</span>
    <span class="ticker-item"><span class="dot">◆</span> Malick</span>
    <!-- duplicate for seamless loop -->
    <span class="ticker-item"><span class="dot">◆</span> Kubrick</span>
    <span class="ticker-item"><span class="dot">◆</span> Kurosawa</span>
    <span class="ticker-item"><span class="dot">◆</span> Lynch</span>
    <span class="ticker-item"><span class="dot">◆</span> Tarkovsky</span>
    <span class="ticker-item"><span class="dot">◆</span> Bergman</span>
    <span class="ticker-item"><span class="dot">◆</span> Cassavetes</span>
    <span class="ticker-item"><span class="dot">◆</span> Wong Kar-wai</span>
    <span class="ticker-item"><span class="dot">◆</span> Haneke</span>
    <span class="ticker-item"><span class="dot">◆</span> Scorsese</span>
    <span class="ticker-item"><span class="dot">◆</span> Coppola</span>
    <span class="ticker-item"><span class="dot">◆</span> Almodovar</span>
    <span class="ticker-item"><span class="dot">◆</span> Malick</span>
  </div>
</div>

<!-- ═══ DIRECTOR SELECTOR ════════════════════════════════ -->
<section class="section-selector" id="selector">
  <div>
    <div class="section-tag">
      <div class="section-tag-line"></div>
      <span class="section-tag-text">The Mechanic</span>
    </div>
    <h2 class="section-heading">EXPLORE<br>THE ARCHIVE</h2>
    <p class="section-body">
      Every director we cover leaves a mark. Spin the selector to resurface a past season — revisit the films, the reviews, the conversations that shaped the club.
    </p>
    <p class="section-body">
      The archive remembers everything.
    </p>
  </div>

  <div class="terminal">
    <div class="terminal-bar">
      <div class="t-dot"></div>
      <div class="t-dot"></div>
      <div class="t-dot"></div>
      <span class="terminal-title">director_selector.exe</span>
    </div>
    <div class="terminal-body">
      <div class="terminal-prompt"><span>$</span> ./select --from archive.json</div>
      <div class="slot-window">
        <div class="slot-result" id="slotResult">AWAITING INPUT</div>
        <div class="slot-sub" id="slotSub">— initialising —</div>
        <a href="#" class="slot-link" id="slotLink">View Profile →</a>
      </div>
      <div class="terminal-hint" id="terminalHint"><span>></span> press button to explore the archive</div>
      <button class="spin-btn" id="spinBtn" onclick="runSelector()">▶ Explore Archive</button>
    </div>
  </div>
</section>

<!-- ═══ CURRENT PICKS ═════════════════════════════════════ -->
<section class="section-picks" id="picks">
  <div class="section-header">
    <div>
      <div class="section-tag">
        <div class="tag-line"></div>
        <span class="tag-text">Season {{ site.currentSeason | pad(2, '0') }} — {{ currentDir.lastName }}</span>
      </div>
      <h2 class="section-heading">THE PICKS</h2>
    </div>
    <a href="/directors/{{ currentDir.slug }}/" class="link-subtle">All reviews →</a>
  </div>

  <div class="picks-grid">
    <a href="/directors/vontrier/breaking-the-waves.html" class="film-card" style="text-decoration:none;color:inherit;">
      <div class="film-card-vis">
        <div class="film-year-ghost">1996</div>
      </div>
      <div class="film-card-body">
        <div class="film-card-title">Breaking the Waves</div>
        <div class="film-card-meta">1996 · 159 min · Drama · Romance</div>
        <p class="film-card-excerpt">Devastating, and entirely earned. Bess McNeill is wired with only three variables — God, Love, and Community — and the film watches as all three turn against her.</p>
        <div class="film-card-rating">
          <div class="cr-label">Club Rating</div>
          <div class="cr-score">11 <span>/ 15</span></div>
          <div class="cr-dims">
            <span class="cr-dim a"><span class="cr-dim-dot"></span>A·2</span>
            <span class="cr-dim e"><span class="cr-dim-dot"></span>E·4</span>
            <span class="cr-dim r"><span class="cr-dim-dot"></span>R·5</span>
          </div>
        </div>
      </div>
    </a>
    <a href="/directors/vontrier/the-idiots.html" class="film-card" style="text-decoration:none;color:inherit;">
      <div class="film-card-vis">
        <div class="film-year-ghost">1998</div>
      </div>
      <div class="film-card-body">
        <div class="film-card-title">The Idiots</div>
        <div class="film-card-meta">1998 · 117 min · Drama · Comedy</div>
        <p class="film-card-excerpt">Uncomfortable by design. Von Trier leaves you without the tools to pass judgement — which is itself the provocation. The questions it leaves behind are the ones that matter.</p>
        <div class="film-card-rating">
          <div class="cr-label">Club Rating</div>
          <div class="cr-score">10 <span>/ 15</span></div>
          <div class="cr-dims">
            <span class="cr-dim a"><span class="cr-dim-dot"></span>A·4</span>
            <span class="cr-dim e"><span class="cr-dim-dot"></span>E·3</span>
            <span class="cr-dim r"><span class="cr-dim-dot"></span>R·3</span>
          </div>
        </div>
      </div>
    </a>
    <a href="/directors/vontrier/dancer-in-the-dark.html" class="film-card" style="text-decoration:none;color:inherit;">
      <div class="film-card-vis">
        <div class="film-year-ghost">2000</div>
      </div>
      <div class="film-card-body">
        <div class="film-card-title">Dancer in the Dark</div>
        <div class="film-card-meta">2000 · 140 min · Musical · Drama</div>
        <p class="film-card-excerpt">The saddest film I have ever seen. The best of the trilogy. Björk is extraordinary. Sits comfortably in my personal top five of all time.</p>
        <div class="film-card-rating">
          <div class="cr-label">Club Rating</div>
          <div class="cr-score">15 <span>/ 15</span></div>
          <div class="cr-dims">
            <span class="cr-dim a"><span class="cr-dim-dot"></span>A·5</span>
            <span class="cr-dim e"><span class="cr-dim-dot"></span>E·5</span>
            <span class="cr-dim r"><span class="cr-dim-dot"></span>R·5</span>
          </div>
        </div>
      </div>
    </a>
  </div>
</section>

<!-- ═══ ARCHIVE ════════════════════════════════════════════ -->
<section class="section-archive" id="archive">
  <div class="section-header">
    <div>
      <div class="section-tag">
        <div class="tag-line"></div>
        <span class="tag-text">The Pantheon</span>
      </div>
      <h2 class="section-heading">PAST<br>DIRECTORS</h2>
    </div>
    <a href="/rankings/directors/" class="link-subtle">Full archive →</a>
  </div>

  <div class="director-grid">
    {% for key, dir in directors %}{% if dir.slug and not dir.isCurrent %}
    <a href="/directors/{{ dir.slug }}/" class="dir-card" style="text-decoration:none;color:inherit;">
      <div class="dir-num">Season {{ dir.season | pad(2, '0') }}</div>
      <div class="dir-name">{{ dir.name }}</div>
      <div class="dir-origin">{{ dir.nationality }}</div>
      <div class="dir-films">
        {% for film in dir.filmography %}{% if film.pick %}
        <div class="dir-film-tag">{{ film.title }}</div>
        {% endif %}{% endfor %}
      </div>
    </a>
    {% endif %}{% endfor %}
  </div>
</section>

<script>
  // ── RAIN STREAKS
  const rainEl = document.getElementById('rain');
  for (let i = 0; i < 18; i++) {
    const line = document.createElement('div');
    line.className = 'rain-line';
    const h = 40 + Math.random() * 80;
    line.style.cssText = `
      left: ${Math.random() * 100}%;
      height: ${h}px;
      opacity: ${0.06 + Math.random() * 0.1};
      animation-duration: ${2.5 + Math.random() * 4}s;
      animation-delay: ${Math.random() * 4}s;
    `;
    rainEl.appendChild(line);
  }

  // ── FILM SELECTOR (BROADCAST CAROUSEL)
  const heroFilms = [
    {% for film in currentDir.filmography %}{% if film.pick %}
    { title: '{{ film.title }}', year: {{ film.year }}, genre: '{{ film.genre }}', slug: '{{ film.slug }}' },
    {% endif %}{% endfor %}
  ];
  const filmRatings = {
    'memories-of-murder':    { total: 14, a: 4, e: 5, r: 5 },
    'mother':                { total: 12, a: 4, e: 4, r: 4 },
    'no-country-for-old-men': { total: 10, a: 2, e: 4, r: 4 },
    'the-big-lebowski':      { total: 9,  a: 2, e: 4, r: 3 },
    'cache':                 { total: 8,  a: 3, e: 1, r: 4 },
    'funny-games':           { total: 8,  a: 5, e: 1, r: 2 },
    'there-will-be-blood':   { total: 13, a: 4, e: 5, r: 4 },
    'phantom-thread':        { total: 10, a: 3, e: 3, r: 4 },
    'the-pianist':           { total: 13, a: 4, e: 4, r: 5 },
    'knife-in-the-water':    { total: 13, a: 5, e: 5, r: 3 },
    'a-scanner-darkly':      { total: 9,  a: 3, e: 2, r: 4 },
    'tape':                  { total: 12, a: 3, e: 5, r: 4 },
    'breaking-the-waves':    { total: 11, a: 2, e: 4, r: 5 },
    'the-idiots':            { total: 10, a: 4, e: 3, r: 3 },
    'dancer-in-the-dark':    { total: 15, a: 5, e: 5, r: 5 }
  };
  const dirSlug = '{{ currentDir.slug }}';
  let fsIndex = 0;
  let fsTransitioning = false;

  function renderFilm(index) {
    const f = heroFilms[index];
    document.getElementById('fsNumber').textContent = String(index + 1).padStart(2, '0');
    document.getElementById('fsTitle').textContent = f.title.toUpperCase();
    document.getElementById('fsMeta').textContent = f.year + ' · ' + f.genre;
    const r = filmRatings[f.slug];
    document.getElementById('fsRating').innerHTML = r
      ? '<span class="fs-cr-score">' + r.total + ' <span class="fs-cr-max">/ 15</span></span>' +
        '<span class="fs-cr-dims">' +
          '<span class="cr-dim a"><span class="cr-dim-dot"></span>A·' + r.a + '</span>' +
          '<span class="cr-dim e"><span class="cr-dim-dot"></span>E·' + r.e + '</span>' +
          '<span class="cr-dim r"><span class="cr-dim-dot"></span>R·' + r.r + '</span>' +
        '</span>'
      : '—';
    document.getElementById('fsLink').href = '/directors/' + dirSlug + '/' + f.slug + '.html';
    document.getElementById('fsCount').textContent = (index + 1) + ' / ' + heroFilms.length;
  }

  function changeFilm(dir) {
    if (fsTransitioning) return;
    fsTransitioning = true;
    const body = document.getElementById('fsBody');
    const num = document.getElementById('fsNumber');
    body.classList.add('fs-transitioning');
    num.classList.add('fs-transitioning');
    setTimeout(() => {
      fsIndex = (fsIndex + dir + heroFilms.length) % heroFilms.length;
      renderFilm(fsIndex);
      body.classList.remove('fs-transitioning');
      num.classList.remove('fs-transitioning');
      setTimeout(() => { fsTransitioning = false; }, 300);
    }, 200);
  }

  renderFilm(0);
  document.getElementById('fsNext').addEventListener('click', () => changeFilm(1));
  document.getElementById('fsPrev').addEventListener('click', () => changeFilm(-1));

  // ── DIRECTOR SELECTOR (SLOT MACHINE)
  const spinPool = [
    {% for key, dir in directors %}{% if dir.slug %}
    { name: '{{ dir.name }}', origin: '{{ dir.nationality }}', active: '{{ dir.active }}', slug: '{{ dir.slug }}', hasProfile: true },
    {% endif %}{% endfor %}
    {% for dir in directors.archive %}
    { name: '{{ dir.name }}', origin: '{{ dir.origin }}', active: '', slug: '', hasProfile: false },
    {% endfor %}
  ];

  const landingPool = spinPool.filter(d => d.hasProfile);
  let spinning = false;
  let lastSlug = '';

  function runSelector() {
    if (spinning) return;
    spinning = true;

    const result = document.getElementById('slotResult');
    const sub = document.getElementById('slotSub');
    const btn = document.getElementById('spinBtn');
    const link = document.getElementById('slotLink');
    const hint = document.getElementById('terminalHint');

    btn.textContent = '▶ Selecting...';
    result.classList.add('spinning');
    sub.textContent = '— searching archive —';
    link.classList.remove('visible');
    hint.innerHTML = '<span>></span> scanning database...';

    let frame = 0;
    const totalFast = 22;
    const totalSlow = 8;
    const total = totalFast + totalSlow;

    function tick() {
      const d = spinPool[Math.floor(Math.random() * spinPool.length)];
      result.textContent = d.name.toUpperCase();
      sub.textContent = d.origin || '—';
      frame++;

      if (frame >= total) {
        result.classList.remove('spinning');
        let chosen = landingPool[Math.floor(Math.random() * landingPool.length)];
        if (chosen.slug === lastSlug && landingPool.length > 1) {
          chosen = landingPool.find(d => d.slug !== lastSlug);
        }
        lastSlug = chosen.slug;

        result.textContent = chosen.name.toUpperCase();
        sub.textContent = chosen.origin + ' · ' + chosen.active;
        link.href = '/directors/' + chosen.slug + '/';
        link.classList.add('visible');
        hint.innerHTML = '<span>></span> match found — click to view profile';
        btn.textContent = '▶ Spin Again';
        spinning = false;
      } else {
        const delay = frame < totalFast ? 70 : 70 + (frame - totalFast) * 40;
        setTimeout(tick, delay);
      }
    }

    setTimeout(tick, 70);
  }

  // ── SCROLL REVEAL
  const cards = document.querySelectorAll('.dir-card, .film-card');
  const io = new IntersectionObserver((entries) => {
    entries.forEach((e, i) => {
      if (e.isIntersecting) {
        e.target.style.opacity = '0';
        e.target.style.transform = 'translateY(16px)';
        e.target.style.transition = `opacity 0.5s ease ${i * 0.04}s, transform 0.5s ease ${i * 0.04}s`;
        requestAnimationFrame(() => {
          e.target.style.opacity = '';
          e.target.style.transform = '';
        });
        io.unobserve(e.target);
      }
    });
  }, { threshold: 0.1 });

  cards.forEach(c => io.observe(c));
</script>
